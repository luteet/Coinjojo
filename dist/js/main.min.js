const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),wrapper=document.querySelector(".wrapper"),header=document.querySelector(".header"),imageBody=document.querySelectorAll(".image-body, figure");imageBody.forEach(e=>{const t=e.querySelector("img"),s=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==s.position&&(e.style.paddingTop=Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};function slideUp(e,t=300){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideDown(e,t=300){e.style.removeProperty("display");let s=window.getComputedStyle(e).display;"none"===s&&(s="block"),e.style.display=s;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function Popup(e){let t=document.querySelector("body"),s=document.querySelector("html"),o="object"==typeof e&&!!e.saveHref,i=!0,r=!0;const n=function(e,r){if(i){i=!1;let n=document.querySelector(e);if(!n)return new Error(`Not found "${e}"`);t.classList.remove("_popup-active"),s.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),o&&history.pushState("","",e),setTimeout(()=>{if(r)n.classList.add("_transition-none"),n.classList.add("_active"),i=!0;else{function e(){i=!0,n.removeEventListener("transitionend",e)}n.classList.add("_active"),n.classList.remove("fade-out"),n.classList.add("fade-in"),setTimeout(()=>{e()},400)}},0)}},a=function(e){if(r){let i;r=!1,i="string"==typeof e?document.querySelector(e):e.closest(".popup"),i.classList.contains("_transition-none")&&i.classList.remove("_transition-none"),setTimeout(()=>{function e(){const n=document.querySelectorAll(".popup._active");n.length<1&&(t.classList.remove("_popup-active"),s.style.setProperty("--popup-padding","0px")),o&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),n[n.length-1]&&history.pushState("","","#"+n[n.length-1].getAttribute("id"))),r=!0,i.removeEventListener("transitionend",e)}i.classList.remove("_active"),i.classList.remove("fade-in"),i.classList.add("fade-out"),setTimeout(()=>{e()},400)},0)}};return{open:function(e){n(e)},close:function(e){a(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let s=e.closest(".open-popup");s&&(t.preventDefault(),n(s.getAttribute("href")));let o=e.closest(".popup-close");o&&a(o)})),o){let e=new URL(window.location);e.hash&&n(e.hash,!0)}}}}const popup=new Popup;function dropDown(){const e=document.querySelectorAll(".drop-down");let t=[];e.forEach(e=>{const s=e.querySelector(".drop-down__target"),o=e.querySelector(".drop-down__list");t.push({block:e,target:s,list:o}),o&&body.append(o)}),Array.from(t).forEach(e=>{const s=e.target,o=e.list,i=e.block;o&&s.addEventListener("click",(function(){if(!s.classList.contains("_animating")){s.classList.add("_animating"),o.style.maxWidth=2*s.offsetWidth+"px";let e=o.offsetHeight,r=o.offsetWidth,n={y:i.getBoundingClientRect().y+window.pageYOffset,x:i.getBoundingClientRect().x+window.pageXOffset};i.classList.contains("_active")||s.closest(".drop-down._active")?(o.classList.remove("fade-in"),o.classList.add("fade-out"),i.classList.remove("_active"),setTimeout(()=>{o.style.removeProperty("left"),o.style.removeProperty("top"),o.style.removeProperty("transform"),o.classList.remove("fade-out"),s.classList.remove("_animating")},300)):(Array.from(t).forEach(e=>{const t=e.target,s=e.list,o=e.block;o.classList.contains("_active")&&(s.classList.remove("fade-in"),s.classList.add("fade-out"),o.classList.remove("_active"),setTimeout(()=>{s.style.removeProperty("left"),s.style.removeProperty("top"),s.style.removeProperty("transform"),s.classList.remove("fade-out"),t.classList.remove("_animating")},300))}),o.style.display="none",n.x>=r&&n.x<window.innerWidth-r?(o.style.left=n.x+s.offsetWidth/2+"px",o.style.transform="translate3d(-50%,0,0)"):n.x+15>window.innerWidth-r?(o.style.left=n.x-r+s.offsetWidth+"px",o.style.transform="translate3d(0,0,0)"):n.x<=r&&(o.style.left=n.x+"px",o.style.transform="translate3d(0,0,0)"),s.getBoundingClientRect().bottom+e>=window.innerHeight?o.style.top=n.y-e-9+"px":s.getBoundingClientRect().bottom+e<wrapper.offsetHeight&&(o.style.top=n.y+s.offsetHeight+9+"px"),o.style.removeProperty("display"),i.classList.add("_active"),o.classList.add("fade-in"),s.classList.remove("_animating"))}}))}),window.addEventListener("resize",(function(){Array.from(t).forEach(e=>{const t=e.target,s=e.list,o=e.block;if(o.classList.contains("_active")&&s){let e=s.offsetHeight,i=s.offsetWidth,r={y:o.getBoundingClientRect().y+window.pageYOffset,x:o.getBoundingClientRect().x+window.pageXOffset};r.x>=i&&r.x<window.innerWidth-i?(s.style.left=r.x+t.offsetWidth/2+"px",s.style.transform="translate3d(-50%,0,0)"):r.x+15>window.innerWidth-i?(s.style.left=r.x-i+t.offsetWidth+"px",s.style.transform="translate3d(0,0,0)"):r.x<=i&&(s.style.left=r.x+"px",s.style.transform="translate3d(0,0,0)"),t.getBoundingClientRect().bottom+e>=window.innerHeight?s.style.top=r.y-e-9+"px":t.getBoundingClientRect().bottom+e<wrapper.offsetHeight&&(s.style.top=r.y+t.offsetHeight+9+"px")}})})),body.addEventListener("click",(function(e){e.target.closest(".drop-down")||Array.from(t).forEach(e=>{const t=e.target,s=e.list,o=e.block;o.classList.contains("_active")&&s&&(s.classList.remove("fade-in"),s.classList.add("fade-out"),o.classList.remove("_active"),setTimeout(()=>{s.style.removeProperty("left"),s.style.removeProperty("top"),s.style.removeProperty("transform"),s.classList.remove("fade-out"),t.classList.remove("_animating")},300))})}))}popup.init(),dropDown(),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")}),t(".header__nav-bg")&&menu.forEach(e=>{e.classList.remove("_mob-menu-active")});t(".header__nav--list a")&&windowSize<992&&menu.forEach(e=>{e.classList.remove("_mob-menu-active")});const s=t(".header__nav--list > li");if(s&&"desktop"!=getDeviceType()&&windowSize>=992?s.classList.contains("has-list")&&(s.classList.contains("active")?(s.classList.remove("active"),header.classList.remove("_bg-active")):(e.preventDefault(),s.classList.toggle("active"),header.classList.add("_bg-active"))):document.querySelector(".header__nav--list li.active")&&(document.querySelector(".header__nav--list li.active").classList.remove("active"),header.classList.remove("_bg-active")),!t(".check-input-focus-wrapper")||t(".check-input-focus-bg")){document.querySelectorAll(".check-input-focus").forEach(e=>{e.closest("label").classList.remove("focus"),header.classList.remove("_search-active")})}const o=t(".header__search--hide");if(o&&!o.classList.contains("_animating")){const e=o.closest(".header__search").querySelector(".header__search--list");o.classList.contains("_active")?o.classList.contains("_active")&&(o.classList.remove("_active"),o.classList.add("_animating"),slideDown(e),setTimeout(()=>{o.classList.remove("_animating")},300)):(o.classList.add("_active"),o.classList.add("_animating"),slideUp(e),setTimeout(()=>{o.classList.remove("_animating")},300))}if(t(".header__search--toggle")){menu.forEach(e=>{e.classList.remove("_mob-menu-active")});const e=t(".header__search");e.classList.contains("_active")?(e.classList.remove("_active"),header.classList.remove("_search-active")):(e.classList.add("_active"),header.classList.add("_search-active"))}else(!t(".header__search")&&document.querySelector(".header__search")||t(".header__search--bg"))&&(document.querySelector(".header__search").classList.remove("_active"),header.classList.remove("_search-active"));const i=t(".favorite-btn");i&&i.classList.toggle("_active");const r=t(".filter__btn");if(r){const e=t(".filter").querySelector(".filter__popup");r.classList.contains("_active")?(r.classList.remove("_active"),e.classList.remove("fade-in"),e.classList.add("fade-out"),e.closest("section").style.minHeight="0px"):(r.classList.add("_active"),e.classList.remove("fade-out"),e.classList.add("fade-in"),e.closest("section").style.minHeight=e.offsetHeight+150+"px")}else(!t(".filter__btn")&&!t(".filter__popup")||t(".filter__popup--close"))&&document.querySelectorAll(".filter__popup.fade-in").forEach(e=>{e.classList.remove("fade-in"),e.classList.add("fade-out");e.closest(".filter").querySelector(".filter__btn").classList.remove("_active")});let n=t(".btn-to-scroll");if(n){let t;e.preventDefault(),t=document.querySelector(n.getAttribute("href")),menu.forEach(e=>{e.classList.remove("_mob-menu-active")}),t?window.scrollTo({top:t.offsetTop,left:0,behavior:"smooth"}):body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}const a=t(".promote__block--target");if(a){const e=a.closest(".promote__block"),t=e.querySelector(".promote__block--content");e.classList.contains("_active")&&!e.classList.contains("_animating")?(e.classList.add("_animating"),e.classList.remove("_active"),t.style.display="block",slideUp(t),setTimeout(()=>{e.classList.remove("_animating")},300)):e.classList.contains("_active")||e.classList.contains("_animating")||(e.classList.add("_animating"),slideDown(t),e.classList.add("_active"),setTimeout(()=>{e.classList.remove("_animating")},300))}const l=t(".calendar tbody td a");if(l){e.preventDefault();const t=l.closest(".calendar");if(t){const e=t.dataset.coinId;if(e){const t=document.querySelector("#"+e);if(t)if(t.value||!t.required)t.required?l.setAttribute("href",`${l.getAttribute("href")}?${t.name}=${t.value}`):l.setAttribute("href",`${l.getAttribute("href")}?${t.name}=none`),window.location.href=l.getAttribute("href");else if(t.closest("form")){const e=t.closest("form");e.classList.add("error"),window.scrollTo({top:e.offsetTop,left:0,behavior:"smooth"}),t.oninput=function(){e.classList.remove("error")}}}}}const c=t(".table-coins thead button");if(c){c.closest(".table-coins");const e=c.querySelector("svg").querySelector("use");document.querySelectorAll("._active-up").forEach(e=>{const t=e.querySelector("svg").querySelector("use");e!=c&&(e.classList.remove("_active-up"),t.setAttribute("xlink:href",t.getAttribute("xlink:href").split("#")[0]+"#arrows-up-down"))}),document.querySelectorAll("._active-down").forEach(e=>{const t=e.querySelector("svg").querySelector("use");e!=c&&(e.classList.remove("_active-down"),t.setAttribute("xlink:href",t.getAttribute("xlink:href").split("#")[0]+"#arrows-up-down"))}),c.classList.contains("_active-up")||c.classList.contains("_active-down")?c.classList.contains("_active-up")&&!c.classList.contains("_active-down")?(c.classList.remove("_active-up"),c.classList.add("_active-down"),e.setAttribute("xlink:href",e.getAttribute("xlink:href").split("#")[0]+"#arrow-down-active")):(c.classList.remove("_active-up"),c.classList.remove("_active-down"),e.setAttribute("xlink:href",e.getAttribute("xlink:href").split("#")[0]+"#arrows-up-down")):(c.classList.add("_active-up"),e.setAttribute("xlink:href",e.getAttribute("xlink:href").split("#")[0]+"#arrow-up-active"))}const d=t(".pagination__list button");if(d){d.closest("section").querySelector(".table-coins tbody"),d.closest(".pagination__list");d.parentElement.querySelector(".pagination__list button.current").classList.remove("current"),d.classList.add("current")}const u=t(".pagination__arrow");if(u){u.parentElement.querySelector(".pagination__list button.current").classList.remove("current")}}));const headerNavLink=document.querySelectorAll(".header__nav--list > li");headerNavLink.forEach(e=>{e.querySelector("ul")&&(e.addEventListener("pointerenter",(function(){"desktop"==getDeviceType()&&header.classList.add("_bg-active")})),e.addEventListener("pointerleave",(function(){header.classList.remove("_bg-active")})))});let windowSize,resizeCheck={};const appendToOnTablet=document.querySelectorAll("[data-append-to-on-tablet]"),appendToOnTabletArray=[];function resizeCheckFunc(e,t,s){windowSize<=e&&(1==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&0!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!1,s()),windowSize>=e&&(0==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&1!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!0,t())}function resize(){windowSize=window.innerWidth,html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),document.querySelectorAll(".switch__input:checked").forEach(e=>{const t=e.closest(".switch").querySelector(".switch__pseudo-btn"),s=e.closest(".switch__btn");t.style.width=s.offsetWidth+"px"}),resizeCheckFunc(992,(function(){Array.from(appendToOnTabletArray).forEach(e=>{e.element.style.display="none",e.parent.append(e.element),e.element.style.removeProperty("display")})}),(function(){Array.from(appendToOnTabletArray).forEach(e=>{e.element.style.display="none",e.appendAddress.append(e.element),e.element.style.removeProperty("display")})}))}appendToOnTablet.forEach(e=>{e.style.display="none",appendToOnTabletArray.push({element:e,parent:e.parentElement,appendAddress:document.querySelector(e.dataset.appendToOnTablet)})}),resize(),window.onresize=resize;const switchInput=document.querySelectorAll(".switch__input");switchInput.forEach(e=>{const t=e.closest(".switch"),s=!!e.dataset.titleId&&document.querySelector(e.dataset.titleId),o=t.querySelector(".switch__pseudo-btn");if(e.checked){window.onload=function(){setTimeout(()=>{const t=e.closest(".switch__btn");o.style.transition="all 0s linear",o.style.width=t.offsetWidth+"px",setTimeout(()=>{o.style.removeProperty("transition")},200)},0)};const i=e.closest(".switch__btn");o.style.transitionDuration="0s",i==t.querySelectorAll(".switch__btn")[0]?(o.style.transform="translate3d(0%,0,0)",o.style.left="0%",o.style.width=i.offsetWidth+"px"):(o.style.transform="translate3d(-100%,0,0)",o.style.left="100%",o.style.width=i.offsetWidth+"px"),o.style.removeProperty("transition-duration"),s&&e.dataset.titleClass&&(s.classList.remove("_mode-1"),s.classList.remove("_mode-2"),s.classList.add(e.dataset.titleClass))}e.addEventListener("change",(function(){const i=e.closest(".switch__btn");table=e.closest("section").querySelector(".table-coins tbody"),i==t.querySelectorAll(".switch__btn")[0]?(o.style.transform="translate3d(0%,0,0)",o.style.left="0%",o.style.width=i.offsetWidth+"px"):(o.style.transform="translate3d(-100%,0,0)",o.style.left="100%",o.style.width=i.offsetWidth+"px"),s&&e.dataset.titleClass&&(s.classList.remove("_mode-1"),s.classList.remove("_mode-2"),s.classList.add(e.dataset.titleClass))}))});const checkInputFocus=document.querySelectorAll(".check-input-focus");checkInputFocus.forEach(e=>{const t=e.closest("label");e.addEventListener("focus",(function(){t&&t.classList.add("focus"),header.classList.add("_search-active")}))});const calendar=document.querySelectorAll(".calendar");calendar.forEach(e=>{const t=e.dataset.base,s=e.closest(".calendar-wrapper"),o=s.querySelector(".calendar-current"),i=s.querySelector(".calendar-arrow._prev"),r=s.querySelector(".calendar-arrow._next"),n=jsCalendar.new(e,new Date,{monthFormat:"month YYYY"});n.onDateRender((function(e,s,o){const i=[e.getDate(),e.getMonth()+1<9?"0"+(e.getMonth()+1):e.getMonth()+1,e.getFullYear()];if(t){let e=s.textContent;s.textContent="",o.isSelected?s.insertAdjacentHTML("beforeend",`<input class="visually-hidden" checked type="checkbox" name="date" value="${i[0]}-${i[1]}-${i[2]}"/>${e}`):s.insertAdjacentHTML("beforeend",`<input class="visually-hidden" type="checkbox" name="date" value="${i[0]}-${i[1]}-${i[2]}"/>${e}`)}nowDate=new Date;let r=new Date;r.setMonth(nowDate.getMonth()+1),delta=nowDate.getTime()-e.getTime(),Math.floor(delta/1e3/60/60/24)>0&&!s.querySelector('input[type="checkbox"]').disabled&&!s.classList.contains("disabled")&&(s.querySelector('input[type="checkbox"]').disabled=!0,s.classList.add("disabled")),Math.floor((e-r)/864e5)>0&&(s.querySelector('input[type="checkbox"]').disabled=!0,s.classList.add("disabled"))})),null!=e.dataset.calendarDates&&n.select(e.dataset.calendarDates.split(", ")),n.refresh(),setTimeout(()=>{o&&(o.textContent=s.querySelector(".jsCalendar-title-name").textContent)},0),i.addEventListener("click",(function(){n.previous(),o&&(o.textContent=s.querySelector(".jsCalendar-title-name").textContent)})),r.addEventListener("click",(function(){n.next(),o&&(o.textContent=s.querySelector(".jsCalendar-title-name").textContent)})),n.onDateClick((function(e,t){e.target.classList.contains("jsCalendar-next")||e.target.classList.contains("jsCalendar-previous")||(e.target.classList.contains("jsCalendar-selected")?n.unselect(t):n.select(t))}))}),document.querySelectorAll("[data-clipboard-target]").forEach(e=>{new ClipboardJS(e)});const toOrderBtn=document.querySelector(".to-order-btn");if(toOrderBtn){const e=document.querySelector(toOrderBtn.getAttribute("href"));window.addEventListener("scroll",(function(){e.getBoundingClientRect().y-e.offsetHeight>=0&&!toOrderBtn.classList.contains("_hidden")?(toOrderBtn.classList.add("_hidden"),toOrderBtn.classList.remove("fade-out"),toOrderBtn.classList.add("fade-in")):e.getBoundingClientRect().y-e.offsetHeight<0&&toOrderBtn.classList.contains("_hidden")&&(toOrderBtn.classList.remove("_hidden"),toOrderBtn.classList.remove("fade-out"),toOrderBtn.classList.add("fade-out"))}))}const headerNavList=document.querySelectorAll(".header__nav--list");headerNavList.forEach(e=>{e.querySelectorAll("li").forEach(e=>{e.querySelector("ul")&&e.classList.add("has-list")})}),new LazyLoad;